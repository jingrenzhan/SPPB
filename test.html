<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <title>O-Picon 歐品康志業</title>
    <!--============================== css start ==============================-->
    <link rel="stylesheet" href="css/bootstrap-grid.css" />
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="js/slick/slick.css" />
    <link rel="stylesheet" href="css/about.css" />
    <link rel="stylesheet" href="dashboard.css" />
    <!--============================== css end    ==============================-->
    <!--============================== general script ==============================-->
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/slick/slick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0/dist/chartjs-plugin-annotation.min.js"></script>
    <style>
        #map {
            height: 100%;
            /* The height is 400 pixels */
            width: 100%;
            /* The width is the width of the web page */
        }
    </style>
</head>

<body>
    <!--============================== main content start ==============================-->
    <main>
        <div class="bodyroot">
            <div class="bodyroot_column1">
                <div class="indexlabel">
                    <div class="div_squareinfo width8-10">

                            <div class="squareinfo" id="vivifrail_A"><table><thead><tr><th>A</th></tr></thead><tbody><tr><td>10人</td></tr></tbody></table></div>
                            <div class="squareinfo" id="vivifrail_B"><table><thead><tr><th>B</th></tr></thead><tbody><tr><td>10人</td></tr></tbody></table></div>
                            <div class="squareinfo" id="vivifrail_C"><table><thead><tr><th>C</th></tr></thead><tbody><tr><td>10人</td></tr></tbody></table></div>
                            <div class="squareinfo" id="vivifrail_D"><table><thead><tr><th>D</th></tr></thead><tbody><tr><td>10人</td></tr></tbody></table></div>
                     </div>
                    
                    <div class="div_squareinfo width2-10">
                        <div id="warninginfo" class="squareinfo "><table><thead><tr><th>警示人數</th></tr></thead><tbody><tr><td>10人</td></tr></tbody></table></div>
                        <div id="progressinfo" class="squareinfo "><table><thead><tr><th>進步人數</th></tr></thead><tbody><tr><td>30人</td></tr></tbody></table></div>
                    </div>

                </div>
                <div class="chartRoot">
                    <div class="chartDiv"> <canvas id="myLineChart" class="chart"></canvas></div>
                    <div class="chartDiv"> <canvas id="myBarChart" class="chart"></canvas></div>
                    <div class="chartDiv"> <canvas id="myPieChart" class="chart"></canvas></div>
                    <div class="chartDiv"> <canvas id="myBubbleChart" class="chart"></canvas></div>
                </div>
            </div>
            <div class="bodyroot_column2">
                <div class="menu">
                    <a class="menuItem off"><span class="tooltiptext">項目一</span><img src="Icons/check.png" /></a>
                    <a class="menuItem off"><span class="tooltiptext">項目二</span><img src="Icons/check.png" /></a>
                    <a class="menuItem off"><span class="tooltiptext">項目三</span><img src="Icons/check.png" /></a>
                    <a class="menuItem off"><span class="tooltiptext">項目四</span><img src="Icons/check.png" /></a>
                    <div id="menuswitch" class="menuswitch"><img src="Icons/menu.png" /></div>
                    <span class="meg">社區</span>
                </div>
                <div class="div_usericons">
                    <div class="usericonItem"><div class="usericon"><img src="Icons/pexels-photo-341971.jpeg" class="cimg border_yellow" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>
                    <div class="usericonItem"><div class="usericon"><img src="Icons/user.jpg" class="cimg" /></div></div>

                </div>
                <div class="div_communitys">
                    <div id="map">社區地圖</div>
                </div>
            </div>
        </div>
    </main>
    <!--============================== main content end   ==============================-->
    <!--============================== script start ==============================-->
    <script src="js/global.js"></script>
    <script src="test.js" charset="utf-8"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4M6DHWGHlv0Sh8pZwu_5s_2GpJXo4RRQ&callback=initMap&v=weekly"
            defer></script>

    <script>
        $(document).ready(function () {
            $("#features-tabs").tabs();

            $('.solutions-main .item').on('click', function () {
                if ($(this).hasClass('on')) {
                    $(this).removeClass('on');
                } else {
                    $(this).addClass('on');
                }
            });
            $('.slick-gifts').slick({
                dots: true,
                autoplay: true,
                nextArrow: "#btnNext",
                prevArrow: "#btnPrev"
            });

        });
        $(window).scroll(function (e) {
            e.preventDefault();
            var win = $(window).scrollTop();
            var wrap = $('.opicon-wrapper');
            var over = $('#anc-offest').offset().top - 70;
            if ($(window).width() < 1024) {
                if (win <= over) {
                    wrap.removeClass('anc-fixed');
                } else {
                    wrap.addClass('anc-fixed');
                }
            }
        });
    </script>
    <!--============================== script end ==============================-->
    <script>
        function CreateChart() {
           
        }
        function ConfigData(type) {
            switch (type) {
                case 0:
                    StepObject = Group_step();
                    data = {
                        labels: StepObject[0].labels,
                        datasets: [{
                            label: '平均步速',
                            backgroundColor: 'rgb(255, 99, 132)',
                            borderColor: 'rgb(255, 99, 132)',
                            data: StepObject[0].datas,
                        }]
                    };

                    config = {
                        type: 'line',
                        data: data,
                        options: {
                            maintainAspectRatio: false,
                            onClick: (e, array) => {
                                const canvasPosition = Chart.helpers.getRelativePosition(e, myLineChart);

                                // Substitute the appropriate scale IDs
                                const dataX = myLineChart.scales.x.getValueForPixel(canvasPosition.x);
                                const dataY = myLineChart.scales.y.getValueForPixel(canvasPosition.y);
                                console.log(data.datasets[dataX]);
                                console.log(array);
                                console.log(array[0].datasetIndex);
                                console.log(array[0].index);
                                membersArray = $('#myLineChart').attr('data-members').split(',');
                                UpdateUserIcons(membersArray[array[0].index])
                            },
                            interaction: {
                                intersect: false,
                                mode: 'nearest'
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: '群體步速'
                                },
                                annotation: {
                                    annotations: {
                                        line1: {
                                            type: 'line',
                                            yMin: 100,
                                            yMax: 100,
                                            borderColor: 'rgb(255, 99, 132)',
                                            borderWidth: 2,
                                        }
                                    }
                                }
                            }

                        }
                    };
                    break;
                case 1:
                    BalanceObject = Group_balance();
                    data = {
                        labels: BalanceObject[0].labels,
                        datasets: [{
                            label: '平衡一',
                            data: BalanceObject[0].datas,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)'

                            ],
                            borderColor: [
                                'rgb(255, 99, 132)'

                            ],
                            borderWidth: 1
                        },
                        {
                            label: '平衡二',
                            data: BalanceObject[1].datas,
                            backgroundColor: [
                                'rgba(255, 159, 64, 0.2)'

                            ],
                            borderColor: [
                                'rgb(255, 159, 64)',
                            ],
                            borderWidth: 1
                        },
                        {
                            label: '平衡三',
                            data: BalanceObject[2].datas,
                            backgroundColor: [

                                'rgba(255, 205, 86, 0.2)',

                            ],
                            borderColor: [

                                'rgb(255, 205, 86)'

                            ],
                            borderWidth: 1
                        }]
                    };
                    config = {
                        type: 'bar',
                        data: data,
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            },
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '群體平衡得分'
                                }
                            }
                        },
                    };
                    break;
                case 2:
                    data = {
                        labels: [
                            '及格',
                            '未及格',
                            '未測驗'
                        ],
                        datasets: [{
                            label: '握力',
                            data: Group_grip()[0].datas,
                            backgroundColor: [
                                'rgb(255, 99, 132)',
                                'rgb(54, 162, 235)',
                                'rgb(255, 205, 86)',
                                'rgb(201, 203, 207)'
                            ],
                            hoverOffset: 4
                        }]
                    };
                    config = {
                        type: 'pie',
                        data: data,
                        options: {
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '群體握力'
                                }
                            }
                        }

                    };
                    break;
                case 3:
                    data = {
                        datasets: [{
                            label: '平均起坐秒數',
                            data: [{
                                x: 20,
                                y: 30,
                                r: 15
                            }, {
                                x: 40,
                                y: 10,
                                r: 10
                            }],
                            backgroundColor: 'rgb(255, 99, 132)'
                        }]
                    };
                    config = {
                        type: 'bubble',
                        data: data,
                        options: { maintainAspectRatio: false }
                    };
                    break;
                case 4: BalanceObject = Group_susd();
                    data = {
                        labels: BalanceObject[0].labels,
                        datasets: [{
                            label: '',
                            data: BalanceObject[0].datas,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)'

                            ],
                            borderColor: [
                                'rgb(255, 99, 132)'

                            ],
                            borderWidth: 1
                        }]
                    };
                    config = {
                        type: 'bar',
                        data: data,
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            },
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '平均起坐秒數'
                                }
                            }
                        },
                    };
                    break;
                default: config = { type: '-1' }
            }
            return config;
        }
        CreateChart();


    </script>

    <script>
        const myLineChart = new Chart(
            document.getElementById('myLineChart'),
            ConfigData(0)
        );

        const myBarChart = new Chart(
            document.getElementById('myBarChart'),
            ConfigData(1)
        );
        const myPieChart = new Chart(
            document.getElementById('myPieChart'),
            ConfigData(2)
        );

        const myBubbleChart = new Chart(
            document.getElementById('myBubbleChart'),
            ConfigData(4)
        );
        elementready = true;
        Update(1);

    </script>

    <script>
        $('#menuswitch').on('click', function () {

            if ($('.menuItem').hasClass('off')) {
                $(this).children('img').attr("src", "Icons/cancel.png");
                $('.menuItem').removeClass('off');
                $('.meg').css('width', "10%");
            } else {
                $('.meg').css('width', "80%");
                $(this).children('img').attr("src", "Icons/menu.png");
                $('.menuItem').addClass('off');
            }
        });
    </script>
</body>
</html>
